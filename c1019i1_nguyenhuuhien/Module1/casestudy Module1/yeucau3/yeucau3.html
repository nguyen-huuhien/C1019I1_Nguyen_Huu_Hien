<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Yêu cầu 1</title>
</head>
<body>

<script>
    let checkValidate = false;
    let emailCustomer;
    let birthdayCustomer;
    let idCard;
    let discount;
    let numberofAccompanying;
    let rentDays;
    let nameCustomer = prompt("Enter Name Customer: ");
    nameStandardized = "";

    nameCustomer = nameCustomer.trim().toLocaleLowerCase();
    for (let i = 0; i < nameCustomer.length; i++) {
        if (nameCustomer.charAt(i) === " " && nameCustomer.charAt(i + 1) === " ") {
            continue;
        }
        if (i === 0 || nameCustomer.charAt(i - 1) === " ") {
            nameStandardized += nameCustomer.charAt(i).toLocaleUpperCase();
            continue;
        }
        nameStandardized += nameCustomer.charAt(i);
    }
    nameCustomer = nameStandardized;


        do {
            checkValidate = false;
            rentDays = prompt("Enter rentDays : ");
            if (!isNaN(rentDays)) {
                rentDays = Number.parseFloat(rentDays);
                if (rentDays > 0 && Number.isInteger(rentDays)) {
                    checkValidate = true;
                }
            }
            if (!checkValidate) {
                alert(" RentDays Is Invalid ! pleasre try Again ");
            }
        } while (!checkValidate);


    do {
        checkValidate = false;
        discount = prompt("Enter Discount : ");
        if (!isNaN(discount)) {
            discount = Number.parseFloat(discount);
            if (discount > 0) {
                checkValidate = true;
            }
        }
        if (!checkValidate) {
            alert(" Discout Is Invalid ! pleasre try Again ");
        }
    } while (!checkValidate);
    do {
        checkValidate = false;
        numberofAccompanying = prompt("Enter NumberOfAccompanying : ");
        if (!isNaN(numberofAccompanying)) {
            numberofAccompanying = Number.parseFloat(numberofAccompanying);
            if (numberofAccompanying > 0 && Number.isInteger(numberofAccompanying)) {
                checkValidate = true;
            }
        }
        if (!checkValidate) {
            alert(" NumberofAccompanying Is Invalid ! pleasre try Again ");
        }
    } while (!checkValidate);


    do {
        checkValidate = false;
        idCard = prompt("Enter Id Card Customer : ");
        if (isNaN(idCard)) {
            alert("id Is Invalid !! please try again ");
            checkValidate = false;
            continue;
        }
        idCard = Number.parseFloat(idCard);
        if (!Number.isInteger(idCard)) {
            alert("id Is Invalid !! please try again ");
            continue;
        }
        if (idCard >= 100000000 && idCard <= 999999999) {
            checkValidate = true;
        } else {
            alert("id Is Invalid !! please try again ");
        }
    } while (!checkValidate);

    do {
        checkValidate = false;
        birthdayCustomer = prompt("Enter Birthday customer (dd/mm/yyyy) :");
        if (birthdayCustomer.charAt(2) !== '/' || birthdayCustomer.charAt(5) !== '/') {
            alert("Birthday Is Invalid !! please try again ");
            continue;
        }
        let day = birthdayCustomer.substring(0, 1);
        let month = birthdayCustomer.substring(3, 5);
        let year = birthdayCustomer.substring(6, 10);
        if (!isNaN(day) && !isNaN(month) && !isNaN(year)) {
            day = Number.parseFloat(day);
            month = Number.parseFloat(month);
            year = Number.parseFloat(year);
            if (Number.isInteger(day) && Number.isInteger(month) && Number.isInteger(year)) {
                if (day > 0 && day < 32 && month < 13 && month > 0 && year >= 1960 && year <= 2000) {
                    checkValidate = true;
                }
            }
        }
        if (!checkValidate) {
            alert("Birthday Is Invalid  ! Please try again ! ");
        }
    } while (!checkValidate);


    do {
        checkValidate = true;
        emailCustomer = prompt(" Enter Email Customer: ");
        let countDoc = 0;
        let countAt = 0;
        for (let i = 0; i < emailCustomer.length; i++) {
            if (emailCustomer.charAt(i) === "@") {
                countAt++;
            }
            if (emailCustomer.charAt(i) === ".") {
                countDoc++;
            }
        }
        if (countAt !== 1 || countDoc < 1) {
            checkValidate = false;
            alert("Email is Invaild !!! Please  try again !");
        }

    } while (!checkValidate);
    // let addressCustomer = prompt("Enter Address Customer :  ");
    // let typeCustomer = prompt("Enter Type Customer :");


    // let typeRoom = prompt("Enter Type Room : ");

    // let typeSevice = prompt(" Enter Type Service : ");
    //
    // let totalPays = 500 * Number.parseInt(rentDays) * (1 - Number.parseFloat(discount)/100);

    // hiển thị thông tin

    alert("Info Customer : \n =================== \n" +
         "Name : " + nameCustomer +
        "\nID Card : " + idCard +
        "\nBirthday : " + birthdayCustomer +
        "\nEmail : " + emailCustomer +
        // "\nAddress : " + addressCustomer +
        // "\nType Customer : " + typeCustomer +
         "\nDiscount :" + discount +
         "\nAccomanying :" + numberofAccompanying +
        // "\nType Room :"+ typeRoom +
         "\nRent days :" + rentDays
        // "\nType Service :" + typeSevice +
        // "\nTotal Pays :" + totalPays
    )


</script>

</body>
</html>